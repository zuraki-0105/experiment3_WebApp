<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>飲食店マップ（福井市） - MVP</title>

  <!-- Tailwind CDN (JITではないが簡易利用) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-sA+vQm0bUu0d3g6pJgGm72f8Y3wQYf7gGk6kQ6r2u8M=" crossorigin=""/>

  <link rel="stylesheet" href="style.css" />

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-QVx0xP6qv0GqY5w2b9x9Vj2uKtXk8f3oJ1k9Uo7R7b0=" crossorigin=""></script>
</head>
<body class="bg-gray-50 min-h-screen">

  <header class="bg-white shadow-sm p-4 flex items-center justify-between">
    <h1 class="text-xl font-semibold">福井市 飲食店マップ（MVP）</h1>
    <div class="text-sm text-gray-500">ターゲットを選択して店舗をフィルタリング</div>
  </header>

  <main class="p-4 grid grid-cols-1 md:grid-cols-4 gap-4">
    <!-- サイドバー（フィルター） -->
    <aside class="md:col-span-1 bg-white rounded-lg p-4 shadow">
      <h2 class="font-medium mb-2">ターゲット層フィルタ</h2>

      <div id="filters" class="space-y-2">
        <label class="flex items-center space-x-2">
          <input type="checkbox" class="target-checkbox" value="student" checked />
          <span>学生向け</span>
        </label>
        <label class="flex items-center space-x-2">
          <input type="checkbox" class="target-checkbox" value="family" checked />
          <span>ファミリー向け</span>
        </label>
        <label class="flex items-center space-x-2">
          <input type="checkbox" class="target-checkbox" value="business" checked />
          <span>ビジネス向け</span>
        </label>
        <label class="flex items-center space-x-2">
          <input type="checkbox" class="target-checkbox" value="tourist" checked />
          <span>観光向け</span>
        </label>
      </div>

      <hr class="my-3" />

      <div>
        <button id="resetView" class="w-full bg-blue-600 text-white py-2 rounded">初期表示に戻す</button>
      </div>

      <div class="text-xs text-gray-500 mt-3">
        ※ 仮データを使用しています。BさんのAPIが出来たら fetch 部分を差し替えてください。
      </div>
    </aside>

    <!-- 地図エリア -->
    <section class="md:col-span-3">
      <div id="map" class="rounded-lg shadow h-[70vh]"></div>
    </section>
  </main>

  <!-- 店舗モーダル -->
  <div id="modal" class="fixed inset-0 flex items-end md:items-center justify-center pointer-events-none">
    <div id="modalCard" class="bg-white rounded-t-lg md:rounded-lg w-full md:w-1/3 p-4 shadow-xl transform translate-y-6 opacity-0 transition-all pointer-events-auto">
      <button id="modalClose" class="float-right text-gray-500">閉じる</button>
      <h3 id="modalName" class="text-lg font-semibold"></h3>
      <p id="modalCategory" class="text-sm text-gray-600"></p>
      <p id="modalAddress" class="mt-2 text-sm"></p>
      <p id="modalHours" class="mt-2 text-sm text-gray-700"></p>
      <p id="modalNotes" class="mt-2 text-sm text-gray-500"></p>
    </div>
  </div>

  <!-- サンプルデータ読み込み（ローカル） -->
  <!-- 実運用時は /api/restaurants を叩くよう fetch 部分を差し替えてください -->
  <script src="sample_data.json" type="application/json" id="sample-data"></script>

  <script src="app.js"></script>
</body>
</html>
